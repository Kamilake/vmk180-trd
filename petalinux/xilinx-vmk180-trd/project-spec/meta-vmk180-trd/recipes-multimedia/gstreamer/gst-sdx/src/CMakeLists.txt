if (NOT PLUGIN_ALL)
  if ((NOT SDSHW_LIBRARIES OR SDSHW_LIBRARIES STREQUAL "") AND SDSOC_MODE)
    set(SDSHW_LIBRARIES ${ACCELERATOR}_sds)
  endif()

  if (PLUGIN_FILTER2D)
    add_subdirectory(filter2d)
    message(STATUS "Configure sdxfilter2d plugin.")
  endif()
  if (PLUGIN_OPTICALFLOW)
    add_subdirectory(optical_flow)
    message(STATUS "Configure sdxopticalflow plugin.")
  endif()
  if (PLUGIN_STEREO)
    add_subdirectory(stereo)
    message(STATUS "Configure sdxstereo plugin.")
  endif()
  if (PLUGIN_TRAFFICDETECT)
    add_subdirectory(trafficdetect)
    message(STATUS "Configure sdxtrafficdetect plugin.")
  endif()
  if (PLUGIN_FACEDETECT)
    add_subdirectory(facedetect)
    message(STATUS "Configure sdxfacedetectplugin.")
  endif()
  if (PLUGIN_GESTUREDETECT)
    add_subdirectory(gesturedetect)
    message(STATUS "Configure sdxgesturedetect plugin.")
  endif()
  if (PLUGIN_IMGCLASSIFIER)
    add_subdirectory(imgclassifier)
    message(STATUS "Configure sdximgclassifier plugin.")
  endif()
  if (PLUGIN_PEDESTRIANDETECT)
    add_subdirectory(pedestriandetect)
    message(STATUS "Configure sdxpedestriandetect plugin.")
  endif()
  if (PLUGIN_SEGMENTATION)
    add_subdirectory(segmentation)
    message(STATUS "Configure sdxsegmentation plugin.")
  endif()
  if (PLUGIN_PERMUTE)
    add_subdirectory(permute)
    message(STATUS "Configure sdxpermute plugin.")
  endif()
endif()

if (PLUGIN_ALL)
  message(STATUS "Configure all plugins.")
  if (NOT SDSHW_LIBRARIES AND SDOSC_MODE)
    message(FATAL_ERROR "SDSHW_LIBRARIES is not set and more than one plugin is configured.")
  endif()
  add_subdirectory(filter2d)
  add_subdirectory(optical_flow)
  add_subdirectory(stereo)
  add_subdirectory(trafficdetect)
  add_subdirectory(facedetect)
  add_subdirectory(gesturedetect)
  add_subdirectory(pedestriandetect)
  add_subdirectory(segmentation)
  add_subdirectory(permute)
endif()

